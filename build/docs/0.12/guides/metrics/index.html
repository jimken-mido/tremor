<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-0.12 plugin-docs plugin-id-default docs-doc-id-guides/metrics">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Metrics | Tremor</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.tremor.rs/docs/0.12/guides/metrics"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.12"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.12"><meta data-rh="true" name="docsearch:version" content="0.12"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.12"><meta data-rh="true" property="og:title" content="Metrics | Tremor"><meta data-rh="true" name="description" content="One case you can deploy tremor for is to work with metrics. Not as a store but as a preprocessor, aggregator, and filter for metrics stores."><meta data-rh="true" property="og:description" content="One case you can deploy tremor for is to work with metrics. Not as a store but as a preprocessor, aggregator, and filter for metrics stores."><link data-rh="true" rel="icon" href="/static/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.tremor.rs/docs/0.12/guides/metrics"><link data-rh="true" rel="alternate" href="https://www.tremor.rs/docs/0.12/guides/metrics" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.tremor.rs/docs/0.12/guides/metrics" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tremor RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tremor Atom Feed"><link rel="stylesheet" href="/assets/css/styles.8fde9d3c.css">
<link rel="preload" href="/assets/js/runtime~main.0a24082e.js" as="script">
<link rel="preload" href="/assets/js/main.fe542851.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.tremor.rs/" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/tremor-logo.svg" alt="Tremor Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/tremor-logo.svg" alt="Tremor Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/0.12/getting-started/">Getting Started</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" positition="left" href="/docs/0.12">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/0.12/guides/">Guides</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/0.12/reference/">Reference Documentation</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/0.12/">0.12</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/edge/">edge</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/0.12/guides/metrics">0.12</a></li><li><a class="dropdown__link" href="/docs/0.11/">0.11</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tremor-rs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-0.12,docs-rfc-current"></div></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.12/">Tremor</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/0.12/getting-started/">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/0.12/guides/">Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.12/guides/basics">Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/0.12/guides/metrics">Metrics</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/0.12/guides/old/logstash/">old</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.12/concepts/aggregation">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/0.12/reference/">Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.12/api/">API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/0.12/language/">Language</a><button aria-label="Toggle the collapsible sidebar category &#x27;Language&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.12/operations/api-usage">Operations</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/benchmarks">Benchmarks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.12/api/">Api</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/0.12/guides/"><span itemprop="name">Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Metrics</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.12</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Metrics</h1><p>One case you can deploy tremor for is to work with metrics. Not as a store but as a preprocessor, aggregator, and filter for metrics stores.</p><p>In this guide, we&#x27;ll see how to use tremor for this. We&#x27;ll set up an example where tremor batch, aggregates, and then forwards metrics. In addition, we&#x27;ll take a look at tremor&#x27;s metrics.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>   This example expects that you have some knowledge of tremor or went through the <a href="/docs/0.12/guides/basics">basics guide</a>. We won&#x27;t explain the concepts covered there again here.</p><p>   In addition, we use <code>docker compose</code> for this guide as it requires additional software, and we want to avoid you having to install and configure a bunch of other services. We expect some familiarity with this as we will not explain the details.</p></div></div><p>All code for this guide can found <a href="https://github.com/tremor-rs/tremor-www/tree/main/versioned_docs/version-0.12/guides/metrics.md/../code/metrics/" target="_blank" rel="noopener noreferrer">on github</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="topics">Topics<a href="#topics" class="hash-link" aria-label="Direct link to Topics" title="Direct link to Topics">​</a></h2><p>This guide introduces the following new concepts.</p><ul><li>codecs</li><li>Post- and Preprocessors</li><li>Connector configuration</li><li>pipeline operators</li><li>streams</li><li>aggregation</li><li>time-based windows</li><li>tremors internal metrics</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="foundation">Foundation<a href="#foundation" class="hash-link" aria-label="Direct link to Foundation" title="Direct link to Foundation">​</a></h2><p>Let us start with the basic deployment:</p><ul><li>influxdb for storage</li><li>chronograph for display</li><li>telegraf as an agent to collect some data</li><li>tremor for aggregation and filtering</li></ul><p>A high level visualization of the application components:</p><div class="mermaid" data-mermaid-src="graph LR
    A{telegraf UDP} --&gt;|influx line protocol| B(tremor)
    B --&gt;|Influx API| C{InfluxDB HTTP}
    D{Chronograf} --- C   ">graph LR
    A{telegraf UDP} --&gt;|influx line protocol| B(tremor)
    B --&gt;|Influx API| C{InfluxDB HTTP}
    D{Chronograf} --- C   </div><p>The docker-compose file for this is <a href="https://github.com/tremor-rs/tremor-www/tree/main/versioned_docs/version-0.12/guides/metrics.md/../code/metrics/01_basic" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="udp-server">UDP Server<a href="#udp-server" class="hash-link" aria-label="Direct link to UDP Server" title="Direct link to UDP Server">​</a></h3><p>Something new here is that we fully define our connectors instead of using a pre-defined canned connector.</p><p>For the input, we use a <a href="/docs/0.12/reference/connectors/udp"><code>udp_server</code></a> connector. In the <code>with</code> clause, we can pass in the configuration.</p><p>Here are the fields of interest we have not discussed before.</p><p><code>codec</code> is an option that can be passed to (nearly) all connectors, and it defines how data that arrives over this connection is decoded. In our case we use <a href="/docs/0.12/reference/codecs/influx"><code>influx</code></a> to decode the influxdb line protocol.</p><p><code>preprocessors</code> are also an option that can be passed to (nearly) all connectors. You can use preprocessors to perform some processing on the byte stream that the connector provides. In our case, we use <a href="/docs/0.12/reference/preprocessors/separate"><code>separate</code></a>. This preprocessor will separate the byte stream with a given character or byte, by default, the <code>\n</code> newline.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>   Some connectors provide structured output instead of a byte stream. Structured connectors can&#x27;t use a <code>codec</code>, <code>preprocessors</code> or <code>postprocessor</code> - after all, their output is already well defined.
::::</p><p>The <code>config</code> section holds a specific configuration to the connector type selected. Since we use the <a href="/docs/0.12/reference/connectors/udp"><code>udp_server</code></a>, we only have to specify the <code>URL</code> we want to listen on.</p><p>With this, we get:</p><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">define flow metrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">flow</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define the udp server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector upd_in from udp_server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the codec we use, in this case `influx` for the influx wire protocol</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    codec = &quot;influx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the preprocessors, we use separate to seperate events by lines</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    preprocessors = [&quot;separate&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # configure the connector itself, we listen to `0.0.0.0` on port `4242`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;url&quot;: &quot;0.0.0.0:4242&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-client">HTTP Client<a href="#http-client" class="hash-link" aria-label="Direct link to HTTP Client" title="Direct link to HTTP Client">​</a></h3><p>On the other side we use a <a href="/docs/0.12/reference/connectors/http"><code>http_client</code></a>. Since influxdb does not have a custom transport we are not forced to implement a <code>influx</code> connector. Instead we can use the <a href="/docs/0.12/reference/codecs/influx"><code>influx</code> codec</a> and a http or udp connectors.</p></div></div><p>   Connector naming follows a scheme here. Generally, something is named <code>server</code> if it accepts connections and <code>client</code> if it initiates connections.
While there is a correlation between clients writing and servers reading, this is incidental and not a rule. A <code>client</code> connection could be reading and not a writing connector.
:::</p><p>Our connector config here is slightly more elaborate. In addition to the <code>URL</code>, defining the target to write to, we also have a <code>headers</code> map that specifies the HTTP headers. This demonstrates nicely that more complex configurations are possible.</p><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">define flow metrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">flow</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define the udp server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector upd_in from udp_server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the codec we use, in this case `influx` for the influx wire protocol</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    codec = &quot;influx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the preprocessors, we use separate to seperate events by lines</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    preprocessors = [&quot;separate&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # configure the connector itself, we listen to `0.0.0.0` on port `4242`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;url&quot;: &quot;0.0.0.0:4242&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define our http client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector influx_out from http_client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # we use the influx codec here as well</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    codec = &quot;influx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # configure the endpoint we&#x27;re writing to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;url&quot;: &quot;http://influxdb:8086/write?db=tremor&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      # We use a custom header to identify that we&#x27;re tremor</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;headers&quot;: {&quot;Client&quot;: [&quot;Tremor&quot;]}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">deploy flow metrics;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pipeline-wiring-up-and-running">Pipeline, wiring up and running<a href="#pipeline-wiring-up-and-running" class="hash-link" aria-label="Direct link to Pipeline, wiring up and running" title="Direct link to Pipeline, wiring up and running">​</a></h3><p>As in the basics tutorial, we will use the <code>passthrough</code> pipeline from the <code>tremor::pipelines</code> module. If you went through the <a href="/docs/0.12/guides/basics">basics guide</a>, this is the same as before.</p><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">define flow metrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">flow</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # import the pipeline module</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  use tremor::pipelines;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define the udp server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector upd_in from udp_server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the codec we use, in this case `influx` for the influx wire protocol</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    codec = &quot;influx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the preprocessors, we use separate to seperate events by lines</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    preprocessors = [&quot;separate&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # configure the connector itself, we listen to `0.0.0.0` on port `4242`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;url&quot;: &quot;0.0.0.0:4242&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define our http client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector influx_out from http_client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # we use the influx codec here as well</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    codec = &quot;influx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # configure  the endpoint we&#x27;re writing to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;url&quot;: &quot;http://influxdb:8086/write?db=tremor&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      # We use a custom header to identify that we&#x27;re tremor</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;headers&quot;: {&quot;Client&quot;: [&quot;Tremor&quot;]}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Create the UDP server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  create connector upd_in;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Create the HTTP client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  create connector influx_out;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Create our pipeline</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  create pipeline passthrough from pipelines::passthrough;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Connect the udp server to the pipeline</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  connect /connector/upd_in to /pipeline/passthrough;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Connect the pipeline to the inflix client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  connect /pipeline/passthrough to /connector/influx_out;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># start our </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">deploy flow metrics;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now with that set you can grab <a href="https://github.com/tremor-rs/tremor-www/tree/main/versioned_docs/version-0.12/guides/metrics.md/../code/metrics/01_basic" target="_blank" rel="noopener noreferrer">the entire config from github</a> and start it with <code>docker-compose up</code>.</p><p>You can find the chronograf UI at <a href="http://localhost:8888" target="_blank" rel="noopener noreferrer"><code>http://localhost:8888</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="batching">Batching<a href="#batching" class="hash-link" aria-label="Direct link to Batching" title="Direct link to Batching">​</a></h2><p>Tremor processes events one by one, meaning that each metric is considered its event. The upside of this is how events arrive. If it&#x27;s one event per UDP message or 100 makes no difference. The downside is that InfluxDB requires events to be submitted in batches to maintain performance.</p><p>Since InfluxDB isn&#x27;t the only destination that benefits from batched events, tremor provides a <a href="/docs/0.12/reference/operators#genericbatch">batching operator</a>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>   Batching using the <a href="/docs/0.12/reference/operators#genericbatch">batching operator</a> is handled inside the connector. HTTP, for example, will combine a batch into a single request, but different connectors might handle this differently.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-the-batch-operator">Adding the Batch operator<a href="#adding-the-batch-operator" class="hash-link" aria-label="Direct link to Adding the Batch operator" title="Direct link to Adding the Batch operator">​</a></h3><p>Operators are small pieces of logic that are written in rust. You can put them inside of a pipeline to perform specific actions. In our example, we use the batch operator.</p><p>Their use is similar to what you already know from pipelines and connectors. You first define operators with a set of configuration parameters, then create them for use.</p><p>We then use <code>select</code> to wire it up in the pipeline.</p><p>We use a maximum of <code>3000</code> events and a maximum delay of <code>5s</code> for our operator.</p><p>Note that we select from <code>in</code> into <code>batch</code> and from <code>batch</code> into <code>out</code>, wiring up the event chain.</p><p>We also need to update our HTTP Client to use a postprocessor, namely the <code>separate</code> one, to join batch elements back together with newlines.</p><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">define flow metrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">flow</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define the udp server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector upd_in from udp_server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the codec we use, in this case `influx` for the influx wire protocol</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    codec = &quot;influx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the preprocessors, we use separate to seperate events by lines</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    preprocessors = [&quot;separate&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # configure the connector itself, we listen to `0.0.0.0` on port `4242`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;url&quot;: &quot;0.0.0.0:4242&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define our http client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector influx_out from http_client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # we use the influx codec here as well</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    codec = &quot;influx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the postprocessor, we use separate to seperate events by lines</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    postprocessor = [&quot;separate&quot;],       </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # configure  the endpoint we&#x27;re writing to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;url&quot;: &quot;http://influxdb:8086/write?db=tremor&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      # We use a custom header to identify that we&#x27;re tremor</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;headers&quot;: {&quot;Client&quot;: [&quot;Tremor&quot;]}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define our metrics pipeline to batch metrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define pipeline metrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  pipeline</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define our batch operator.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # A batch will collect up to 3000 events, but never wait more then 5 seconds</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # before emitting.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    define operator batch from generic::batch</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      count = 3000,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      timeout = nanos::from_seconds(5)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    create operator batch;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    select event from in into batch;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    select event from batch into out;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Create the udp server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  create connector upd_in;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Create the http client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  create connector influx_out;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Create our pipeline</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  create pipeline metrics from metrics;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Connect the udp server to the pipeline</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  connect /connector/upd_in to /pipeline/metrics;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Connect the pipeline to the inflix client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  connect /pipeline/metrics to /connector/influx_out;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># start our </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">deploy flow metrics;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running">Running<a href="#running" class="hash-link" aria-label="Direct link to Running" title="Direct link to Running">​</a></h3><p>Now with that set you can grab <a href="https://github.com/tremor-rs/tremor-www/tree/main/versioned_docs/version-0.12/guides/metrics.md/../code/metrics/02_batching" target="_blank" rel="noopener noreferrer">the entire config from github</a> and start it with <code>docker-compose up</code>.</p><p>You can find the chronograf UI at <a href="http://localhost:8888" target="_blank" rel="noopener noreferrer"><code>http://localhost:8888</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="aggregation">Aggregation<a href="#aggregation" class="hash-link" aria-label="Direct link to Aggregation" title="Direct link to Aggregation">​</a></h2><p>Let&#x27;s talk about aggregation. Sometimes it&#x27;s helpful to aggregate some metrics before they&#x27;re stored in a database. One reason could be to downsample the input. Another could be to create histograms for databases that don&#x27;t natively support them.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>   The techniques used for aggregation aren&#x27;t specific to metrics. You can apply the same methods to any event stream.</p></div></div><p>The aggregation we&#x27;re looking for is &quot;The histogram for each metric over a 10s and 1min window.&quot;</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="grouping">Grouping<a href="#grouping" class="hash-link" aria-label="Direct link to Grouping" title="Direct link to Grouping">​</a></h3><p>To aggregate the metrics, we get in a useful we need to group our data by the <code>&quot;each metric&quot;</code> from our definition. Since we&#x27;re using influx data as our input, a metric is identified by three fields:</p><ul><li>The <code>measurement</code></li><li>The <code>tags</code></li><li>The <code>field</code></li></ul><p>Since influx combines multiple fields in a message, we first have to unroll this into each field being a single event.</p><p>::: note
We use <code>create stream</code> here. Streams are just named nodes that have no own function or overhead. They serve as a way to chain up selects.
:::</p><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # use types for checking if values are a number</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    use std::type;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # use record for exploding keys</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    use std::record;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # create our pre-aggregation stream</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    create stream aggregate;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # We change the structure of our event to be easier digestible for aggregation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    select {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;measurement&quot;: event.measurement,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;tags&quot;: event.tags,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;field&quot;: group[2],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;value&quot;: event.fields[group[2]],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;timestamp&quot;: event.timestamp,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    from in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    group by set(event.measurement, event.tags, each(record::keys(event.fields)))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    into aggregate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    having type::is_number(event.value);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>What we do here is for <code>each</code> <code>key</code> in <code>fields</code>, we create a metric, so if our record has two fields, we flatten that out and have two events. We then create a set of this field, the tags for the metric, and the measurement for the metric. This gives us a unique identifier for the metric/</p><p>This is needed to not confuse the values for different fields.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>   We use <code>group[2]</code> here, which refers to the second element of the current group (indexing starts at 0). For a string of the entire group, you can access <code>n+1</code>( in our example, since we have three elements, it would be <code>group[3]</code>).</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="windowing">Windowing<a href="#windowing" class="hash-link" aria-label="Direct link to Windowing" title="Direct link to Windowing">​</a></h3><p>To aggregate over a time range, we use time-based tumbling windows. We can define them the same way we define everything else, a <code>define</code> statement. They are, however, not created. Instead, they&#x27;re bound to the select statement they&#x27;re used in.</p><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # use nanos for time</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    use std::time::nanos;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define a 10 second window</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    define window `10secs` from tumbling</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      interval = nanos::from_seconds(10)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define a 1 minute window</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    define window `1min` from tumbling</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      interval = nanos::from_minutes(1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    end;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="aggregating">Aggregating<a href="#aggregating" class="hash-link" aria-label="Direct link to Aggregating" title="Direct link to Aggregating">​</a></h3><p>Once we have defined the windows, we can now use them to aggregate our data. We do this in a new select statement. After the <code>from</code> section, we have a square bracket and the window names. This syntax is what we call tilt frames. They&#x27;re chained windows that will emit based on conditions.</p><p>We use the  <a href="/docs/0.12/reference/stdlib/aggr/stats#hdrnumber-array"><code>aggr::stats::hdr</code></a> function that creates a histogram from the incoming data and outputs the given set of percentiles.</p><p>In addition we use the <a href="/docs/0.12/reference/stdlib/aggr/win#first"><code>aggr::win::first</code></a> to get the first timestamp.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>   We are using two windows here, a 10s one and a 1min one. The upside of using the tilt framing mechanism here is that we can do this without a loss in precision, as the 1min window is not an aggregate of six 10s windows but rather an aggregate of the raw data of them without having to duplicate it.</p></div></div><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # create a stream for normalization</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    create stream normalize;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    select</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;measurement&quot;: event.measurement,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;tags&quot;: patch event.tags of insert &quot;window&quot; =&gt; window end,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;stats&quot;: aggr::stats::hdr(event.value, [ &quot;0.5&quot;, &quot;0.9&quot;, &quot;0.99&quot;, &quot;0.999&quot; ]),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;field&quot;: event.field,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;timestamp&quot;: aggr::win::first(event.timestamp), # we can&#x27;t use min since it&#x27;s a float</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    from aggregate[`10secs`, `1min`]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    group by set(event.measurement, event.tags, event.field)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    into normalize;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="normalisation">Normalisation<a href="#normalisation" class="hash-link" aria-label="Direct link to Normalisation" title="Direct link to Normalisation">​</a></h3><p>Last but not least we need to normalize this data basck to something the <a href="/docs/0.12/reference/codecs/influx">influx codec</a> understands.</p><p>We can do this with another select statement.</p><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">select {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;measurement&quot;:  event.measurement,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;tags&quot;:  event.tags,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;fields&quot;:  {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;count_#{event.field}&quot;:  event.stats.count,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;min_#{event.field}&quot;:  event.stats.min,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;max_#{event.field}&quot;:  event.stats.max,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;mean_#{event.field}&quot;:  event.stats.mean,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;stdev_#{event.field}&quot;:  event.stats.stdev,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;var_#{event.field}&quot;:  event.stats.var,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;p50_#{event.field}&quot;:  event.stats.percentiles[&quot;0.5&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;p90_#{event.field}&quot;:  event.stats.percentiles[&quot;0.9&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;p99_#{event.field}&quot;:  event.stats.percentiles[&quot;0.99&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;p99.9_#{event.field}&quot;:  event.stats.percentiles[&quot;0.999&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;timestamp&quot;: event.timestamp,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">from normalize</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">into batch;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-1">Running<a href="#running-1" class="hash-link" aria-label="Direct link to Running" title="Direct link to Running">​</a></h3><p>Now with that set you can grab <a href="https://github.com/tremor-rs/tremor-www/tree/main/versioned_docs/version-0.12/guides/metrics.md/../code/metrics/03_aggregation" target="_blank" rel="noopener noreferrer">the entire config from github</a> and start it with <code>docker-compose up</code>.</p><p>You can find the chronograf UI at <a href="http://localhost:8888" target="_blank" rel="noopener noreferrer"><code>http://localhost:8888</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tremor-metrics">Tremor metrics<a href="#tremor-metrics" class="hash-link" aria-label="Direct link to Tremor metrics" title="Direct link to Tremor metrics">​</a></h2><p>Finally, let us talk about how to access tremors own metrics. We choose to allow tremor to process them and forward them as required. This avoids an extra step for configuring metrics, implementing connectivity, or forcing the users into a specific way of monitoring.</p><p>This is done using the <a href="/docs/0.12/reference/connectors/metrics"><code>metrics connector</code></a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connectors">Connectors<a href="#connectors" class="hash-link" aria-label="Direct link to Connectors" title="Direct link to Connectors">​</a></h3><p>To enable metrics collection for connectors, we need to update their configuration. Namely we add the <code>metrics_interval_s</code> option. We choose 5 seconds to keep the overhead low.</p><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define the udp server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector upd_in from udp_server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define metrics interval</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    metrics_interval_s = 5,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the codec we use, in this case `influx` for the influx wire protocol</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    codec = &quot;influx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the preprocessors, we use separate to seperate events by lines</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    preprocessors = [&quot;separate&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # configure the connector itself, we listen to `0.0.0.0` on port `4242`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;url&quot;: &quot;0.0.0.0:4242&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define our http client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector influx_out from http_client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define metrics interval</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    metrics_interval_s = 5,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # we use the influx codec here as well</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    codec = &quot;influx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the postprocessors, we use separate to seperate events by lines</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    postprocessors = [&quot;separate&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # configure  the endpoint we&#x27;re writing to    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;url&quot;: &quot;http://influxdb:8086/write?db=tremor&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      # We use a custom header to identify that we&#x27;re tremor</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;headers&quot;: {&quot;Client&quot;: [&quot;Tremor&quot;]}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pipeline">Pipeline<a href="#pipeline" class="hash-link" aria-label="Direct link to Pipeline" title="Direct link to Pipeline">​</a></h3><p>The pipeline has to be set up as well. As pipelines don&#x27;t come with a <code>with</code> section, it is configured as part of a configuration directive with the same name.</p><p>We choose the same 5-second interval.</p><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector metrics from metrics;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define our metrics pipeline to batch metrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define pipeline metrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  pipeline</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #!config metrics_interval_s = 5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="metric-connector--wiring">Metric Connector &amp; Wiring<a href="#metric-connector--wiring" class="hash-link" aria-label="Direct link to Metric Connector &amp; Wiring" title="Direct link to Metric Connector &amp; Wiring">​</a></h3><p>So with all our connectors and pipelines configured, we have to wire up the connector to the metrics pipeline. This works since, for internal metrics, we use the same structure as the <a href="/docs/0.12/reference/codecs/influx"><code>influx</code> codec</a>.</p><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">define flow metrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">flow</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Define our hasher</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector metrics from metrics;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Create the internal metrics collector</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  create connector metrics;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Connect the metrics to the pipeline</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  connect /connector/metrics to /pipeline/metrics;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  #...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now with that set you can grab <a href="https://github.com/tremor-rs/tremor-www/tree/main/versioned_docs/version-0.12/guides/metrics.md/../code/metrics/04_interal" target="_blank" rel="noopener noreferrer">the entire config from github</a> and start it with <code>docker-compose up</code>.</p><p>You can find the chronograf UI at <a href="http://localhost:8888" target="_blank" rel="noopener noreferrer"><code>http://localhost:8888</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-backends">Other backends<a href="#other-backends" class="hash-link" aria-label="Direct link to Other backends" title="Direct link to Other backends">​</a></h2><p>While this example is written using InfluxDB as a backend, it works equally with other backends.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tdengine">TDengine<a href="#tdengine" class="hash-link" aria-label="Direct link to TDengine" title="Direct link to TDengine">​</a></h3><p>TDengine can quickly replace influx. The only difference is that we need to change the <code>url</code> in the <code>http_client</code></p><p>A high-level visualization of TDengine replacing InfluxDB via the Influx API:</p><div class="mermaid" data-mermaid-src="graph LR
    A{telegraf UDP} --&gt;|influx line protocol| B(tremor)
    B --&gt;|Influx API| C{TDengine}">graph LR
    A{telegraf UDP} --&gt;|influx line protocol| B(tremor)
    B --&gt;|Influx API| C{TDengine}</div><p>The connector definition for <code>TDengine</code> has a slightly different endpoint
specification, but the application is otherwise the same:</p><div class="language-tremor codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tremor codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define our http client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector influx_out from http_client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define metrics interval</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    metrics_interval_s = 5,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # we use the influx codec here as well</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    codec = &quot;influx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the postprocessors, we use separate to seperate events by lines</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    postprocessors = [&quot;separate&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # configure  the endpoint we&#x27;re writing to    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;url&quot;: &quot;http://tdengine:6041/influxdb/v1/write?db=tremor&amp;u=root&amp;p=taosdata&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      # We use a custom header to identify that we&#x27;re tremor</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;headers&quot;: {&quot;Client&quot;: [&quot;Tremor&quot;]}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now with that set you can grab <a href="https://github.com/tremor-rs/tremor-www/tree/main/versioned_docs/version-0.12/guides/metrics.md/../code/metrics/05_tdengine" target="_blank" rel="noopener noreferrer">the entire config from github</a> and start it with <code>docker-compose up</code>.</p><p>You can find the grafana UI at <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer"><code>http://localhost:3000</code></a>.</p><p>Note that you need to log in with user <code>admin</code> and password <code>admin</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="questdb">QuestDB<a href="#questdb" class="hash-link" aria-label="Direct link to QuestDB" title="Direct link to QuestDB">​</a></h3><p>QuestDB can also replace influx. There are a few differences however as Quest has
constraints on column names and does not support the HTTP protocol for Influx Line
Protocol. We can choose UDP based or TCP based distribution for QuestDB.</p><p>A high-level visualization of QuestDB replacing InfluxDB via the Influx API:</p><div class="mermaid" data-mermaid-src="graph LR
    A{telegraf UDP} --&gt;|influx line protocol over UDP| B(tremor)
    B --&gt;|Influx Line Protocol over TCP| C{QuestDB}">graph LR
    A{telegraf UDP} --&gt;|influx line protocol over UDP| B(tremor)
    B --&gt;|Influx Line Protocol over TCP| C{QuestDB}</div><p>The connector definition for <code>QuestDB</code> has a slightly different endpoint
specification and uses the TCP protocol for connectivity, but the
configuration is otherwise the same:</p><div class="language-troy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-troy codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # define our http client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  define connector influx_out from tcp_client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  with</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define metrics interval</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    metrics_interval_s = 5,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # we use the influx codec here as well</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    codec = &quot;influx&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # define the postprocessors, we use separate to seperate events by lines</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    postprocessors = [&quot;separate&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    config = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &quot;url&quot;: &quot;questdb:9009&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  end;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We also need to replace some column names to conform to quest db constraints, we do this
through the <code>re::replace_all</code> regular expression from tremor&#x27;s standard library for convenience.</p><div class="language-troy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-troy codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # We change the structure of our event to be easier digestible for aggregation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    select {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;measurement&quot;: re::replace_all(&quot;[ :\\./]&quot;, event.measurement, &quot;_&quot;), # QuestDB limitations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;tags&quot;: event.tags,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;field&quot;: group[2],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;value&quot;: event.fields[group[2]],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;timestamp&quot;: event.timestamp,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    from in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    group by set(event.measurement, event.tags, each(record::keys(event.fields)))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    into aggregate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    having type::is_number(event.value);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now with that set you can grab <a href="https://github.com/tremor-rs/tremor-www/tree/main/versioned_docs/version-0.12/guides/metrics.md/../code/metrics/06_questdb" target="_blank" rel="noopener noreferrer">the entire config from github</a> and start it with <code>docker-compose up</code>.</p><p>You can find the grafana UI at <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer"><code>http://localhost:3000</code></a>.
You can find the QuestDB Console UI at <a href="http://localhost:9000" target="_blank" rel="noopener noreferrer"><code>http://localhost:9000</code></a>.</p><p>Note that you need to log in with user <code>admin</code> and password <code>admin</code> in the Grafana UI.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/tremor-rs/tremor-www/tree/main/versioned_docs/version-0.12/guides/metrics.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/0.12/guides/basics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Basics</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/0.12/guides/old/logstash/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Logstash</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#topics" class="table-of-contents__link toc-highlight">Topics</a></li><li><a href="#foundation" class="table-of-contents__link toc-highlight">Foundation</a><ul><li><a href="#udp-server" class="table-of-contents__link toc-highlight">UDP Server</a></li><li><a href="#pipeline-wiring-up-and-running" class="table-of-contents__link toc-highlight">Pipeline, wiring up and running</a></li></ul></li><li><a href="#batching" class="table-of-contents__link toc-highlight">Batching</a><ul><li><a href="#adding-the-batch-operator" class="table-of-contents__link toc-highlight">Adding the Batch operator</a></li><li><a href="#running" class="table-of-contents__link toc-highlight">Running</a></li></ul></li><li><a href="#aggregation" class="table-of-contents__link toc-highlight">Aggregation</a><ul><li><a href="#grouping" class="table-of-contents__link toc-highlight">Grouping</a></li><li><a href="#windowing" class="table-of-contents__link toc-highlight">Windowing</a></li><li><a href="#aggregating" class="table-of-contents__link toc-highlight">Aggregating</a></li><li><a href="#normalisation" class="table-of-contents__link toc-highlight">Normalisation</a></li><li><a href="#running-1" class="table-of-contents__link toc-highlight">Running</a></li></ul></li><li><a href="#tremor-metrics" class="table-of-contents__link toc-highlight">Tremor metrics</a><ul><li><a href="#connectors" class="table-of-contents__link toc-highlight">Connectors</a></li><li><a href="#pipeline" class="table-of-contents__link toc-highlight">Pipeline</a></li><li><a href="#metric-connector--wiring" class="table-of-contents__link toc-highlight">Metric Connector &amp; Wiring</a></li></ul></li><li><a href="#other-backends" class="table-of-contents__link toc-highlight">Other backends</a><ul><li><a href="#tdengine" class="table-of-contents__link toc-highlight">TDengine</a></li><li><a href="#questdb" class="table-of-contents__link toc-highlight">QuestDB</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chat.tremor.rs/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/TremorDEBS" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Media</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/channel/UCg1hxwEjh9szpYg8SxL0U7Q" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
          Copyright © 2025, Tremor Authors | Documentation Distributed under CC-BY-4.0.<br><br>
              <p style="font-size: smaller;">Hosted by: <a href="https://www.netlify.com/" rel="noreferrer noopener" aria-label="Netlify"><img src="/img/netlify-full-logo.svg" alt="CNCF" style="width: 3%;"></a>
              &nbsp;&nbsp;&nbsp;&nbsp;
              Project of: <a href="https://www.cncf.io/" rel="noreferrer noopener" aria-label="CNCF"><img src="/img/cncf-color.svg" alt="CNCF" style="width: 5%;"></a></p>
        <small>© 2025 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page.</small>
        </div></div></div></footer></div>
<script src="/assets/js/runtime~main.0a24082e.js"></script>
<script src="/assets/js/main.fe542851.js"></script>
</body>
</html>