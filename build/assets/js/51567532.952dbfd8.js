"use strict";(self.webpackChunktremor_website=self.webpackChunktremor_website||[]).push([[2151],{38837:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var r=t(58168),a=(t(96540),t(15680));t(40281);const o={},s="separate",i={unversionedId:"reference/preprocessors/separate",id:"version-0.12/reference/preprocessors/separate",title:"separate",description:"Splits the input into events, using a given separator, the default being \\n (newline).",source:"@site/versioned_docs/version-0.12/reference/preprocessors/separate.md",sourceDirName:"reference/preprocessors",slug:"/reference/preprocessors/separate",permalink:"/docs/0.12/reference/preprocessors/separate",draft:!1,editUrl:"https://github.com/tremor-rs/tremor-www/tree/main/versioned_docs/version-0.12/reference/preprocessors/separate.md",tags:[],version:"0.12",frontMatter:{},sidebar:"indexSidebar",previous:{title:"remove-empty",permalink:"/docs/0.12/reference/preprocessors/remove-empty"},next:{title:"textual-length-prefix",permalink:"/docs/0.12/reference/preprocessors/textual-length-prefix"}},l={},p=[],d={toc:p},g="wrapper";function m(e){let{components:n,...t}=e;return(0,a.yg)(g,(0,r.A)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"separate"},"separate"),(0,a.yg)("p",null,"Splits the input into events, using a given separator, the default being ",(0,a.yg)("inlineCode",{parentName:"p"},"\\n")," (newline)."),(0,a.yg)("p",null,"The default can be overwritten using the ",(0,a.yg)("inlineCode",{parentName:"p"},"separator")," option."),(0,a.yg)("p",null,"Buffers any fragment that may be present (after the last separator), till more data arrives. This makes it ideal for use with streaming onramps like ",(0,a.yg)("a",{parentName:"p",href:"../connectors/tcp"},"tcp"),", to break down incoming data into distinct events."),(0,a.yg)("p",null,"Additional options are:"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Option"),(0,a.yg)("th",{parentName:"tr",align:null},"Description"),(0,a.yg)("th",{parentName:"tr",align:null},"Required"),(0,a.yg)("th",{parentName:"tr",align:null},"Default Value"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"separator"),(0,a.yg)("td",{parentName:"tr",align:null},"The separator to split the incoming bytes at"),(0,a.yg)("td",{parentName:"tr",align:null},"no"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"\\n"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"max_length"),(0,a.yg)("td",{parentName:"tr",align:null},"the maximum length in bytes to keep buffering before giving up finding a separator character. This prevents consuming huge ammounts of memory if no separator ever arrives."),(0,a.yg)("td",{parentName:"tr",align:null},"no"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"8192"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"buffered"),(0,a.yg)("td",{parentName:"tr",align:null},'buffer multiple fragments to find a seperator, if this is set to false each fragment will be considered to be followed by a separator so "hello\\nworld" would turn into two events "hello" and "world". With buffered true "hello\\nworld" would turn into one event "hello" and "world" will be buffered until a next event includes a ',(0,a.yg)("inlineCode",{parentName:"td"},"\\n")," or the stream ends."),(0,a.yg)("td",{parentName:"tr",align:null},"no"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"true"))))),(0,a.yg)("p",null,"If this preprocessor is only configured by name, it will split on ",(0,a.yg)("inlineCode",{parentName:"p"},"\\n"),", does not enforce a maximum length of ",(0,a.yg)("inlineCode",{parentName:"p"},"8192")," and buffer incoming byte fragments until a separator is found or the ",(0,a.yg)("inlineCode",{parentName:"p"},"max_length")," is hit, at which point the fragment is discarded."),(0,a.yg)("p",null,"Example configuration:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tremor"},'define connector foo from ws_client\nwith\n    preprocessors = ["separate"],\n    postprocessors = ["separate"]\n    codec = "json",\n    config = {\n        "url": "ws://localhost:12345"\n    }\nend;\n\ndefine connector snot from ws_server\nwith\n    preprocessors = [\n        {\n            "name": "separate",\n            "config": {\n                "separator": "|",\n                "max_length": 100000,\n                "buffered": false\n            }\n        }\n    ],\n    ...\nend;\n')))}m.isMDXComponent=!0}}]);