"use strict";(self.webpackChunktremor_website=self.webpackChunktremor_website||[]).push([[287],{28933:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>n,metadata:()=>s,toc:()=>u});var r=i(58168),a=(i(96540),i(15680));const n={},l="Remove Actix",s={unversionedId:"implemented/remove-actix-from-tremor-runtime",id:"implemented/remove-actix-from-tremor-runtime",title:"Remove Actix",description:"- Feature Name: rfc0001remove_actix",source:"@site/rfc/implemented/0001-remove-actix-from-tremor-runtime.md",sourceDirName:"implemented",slug:"/implemented/remove-actix-from-tremor-runtime",permalink:"/rfc/implemented/remove-actix-from-tremor-runtime",draft:!1,editUrl:"https://github.com/tremor-rs/tremor-www/tree/main/rfc/implemented/0001-remove-actix-from-tremor-runtime.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"defaultSidebar",previous:{title:"troy",permalink:"/rfc/accepted/troy"},next:{title:"Linked Transports",permalink:"/rfc/implemented/linked-transports"}},o={},u=[{value:"Summary",id:"summary",level:2},{value:"Motivation",id:"motivation",level:2},{value:"Guide-level Explanation",id:"guide-level-explanation",level:2},{value:"Reference-level Explanation",id:"reference-level-explanation",level:2},{value:"Drawbacks",id:"drawbacks",level:2},{value:"Rationale and Alternatives",id:"rationale-and-alternatives",level:2},{value:"Prior Art",id:"prior-art",level:2},{value:"Unresolved questions",id:"unresolved-questions",level:2},{value:"Future possibilities",id:"future-possibilities",level:2}],m={toc:u},c="wrapper";function d(e){let{components:t,...i}=e;return(0,a.yg)(c,(0,r.A)({},m,i,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"remove-actix"},"Remove Actix"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Feature Name: rfc_0001_remove_actix"),(0,a.yg)("li",{parentName:"ul"},"Start Date: 2020-01-20"),(0,a.yg)("li",{parentName:"ul"},"Issue: ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/tremor-rs/tremor-rfcs/issues/1"},"tremor-rs/tremor-rfcs#0001")),(0,a.yg)("li",{parentName:"ul"},"RFC PR: ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/tremor-rs/tremor-rfcs/pull/2"},"tremor-rs/tremor-rfcs#0002"))),(0,a.yg)("h2",{id:"summary"},"Summary"),(0,a.yg)("p",null,"Actix should be replaced with a suitable alternative."),(0,a.yg)("h2",{id:"motivation"},"Motivation"),(0,a.yg)("p",null,"The Actix project in its current form has been discontinued."),(0,a.yg)("p",null,"Actix is used within the tremor-runtime for control plane facilities off the critical path, such as hosting the Tremor API and is used in some onramps/offramps."),(0,a.yg)("p",null,"A suitable replacement should be integrated replacing Actix."),(0,a.yg)("h2",{id:"guide-level-explanation"},"Guide-level Explanation"),(0,a.yg)("p",null,"The Tremor REST API uses the actix-web project."),(0,a.yg)("p",null,"The Tremor server uses actix, actix-files actix-cors and actix-web."),(0,a.yg)("p",null,"These projects are discontinued and need suitable replacements."),(0,a.yg)("h2",{id:"reference-level-explanation"},"Reference-level Explanation"),(0,a.yg)("p",null,"REST API use case:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Adopt (tide)","[https://github.com/http-rs/tide]"," for REST and HTTP API purposes.")),(0,a.yg)("p",null,"WebSocket API use case:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Adopt (async-tungstenite)","[https://crates.io/crates/async-tungstenite]",".")),(0,a.yg)("p",null,"Control plane use case:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Prefer interceptor interface insulating control plane from transport/data format choices."),(0,a.yg)("li",{parentName:"ul"},"Replace all uses of core actix actors with a suitable alternative."),(0,a.yg)("li",{parentName:"ul"},"Consider channels with event/run loops as an alternative pseudo-actor model."),(0,a.yg)("li",{parentName:"ul"},"Consider (bastion)","[https://docs.rs/bastion]",".")),(0,a.yg)("h2",{id:"drawbacks"},"Drawbacks"),(0,a.yg)("p",null,"Tremor-runtime is a working system and is currently stable."),(0,a.yg)("p",null,"Replacing the control plane, API and websocket facilities will incur some overhead and risk especially regarding differences in actor model implementations and how they interoperate with asynchronous or channel based rust code which Tremor exploits heavily."),(0,a.yg)("h2",{id:"rationale-and-alternatives"},"Rationale and Alternatives"),(0,a.yg)("p",null,"The existing test suites in EQC should be sufficient for API purposes to defend\nagainst regression but no alternative is stable, and there is no guarantee that\ncurrent external frameworks will be supported in the longer term."),(0,a.yg)("p",null,"Actix may yet find alternative maintainers and/or it could be forked and maintained by ourselves, worst case to preserve current investment in the Actix project within Tremor."),(0,a.yg)("p",null,"Actix has an opinionated architecture and implementation which deviates from the goals and needs of Tremor sufficiently that its integration was not without compromise. Revisiting areas of Tremor code currently adopting actix may result in simplification and modernising to current Rust style and idioms based on fully standards-based async rust, which was not available when these facilities were implemented."),(0,a.yg)("h2",{id:"prior-art"},"Prior Art"),(0,a.yg)("p",null,"As above."),(0,a.yg)("h2",{id:"unresolved-questions"},"Unresolved questions"),(0,a.yg)("p",null,"Consider maintenance dynamics of libraries being considered for adoption with a preferential biases for smaller libraries that would be easier to maintain if their maintainership changes looking forward."),(0,a.yg)("h2",{id:"future-possibilities"},"Future possibilities"),(0,a.yg)("p",null,"Generalise on async for all facilities currently integrating Actix and reconsider Tremor runtime, concurrency and other primitives with async rust as an optimising bias."))}d.isMDXComponent=!0}}]);