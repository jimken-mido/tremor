"use strict";(self.webpackChunktremor_website=self.webpackChunktremor_website||[]).push([[9488],{89308:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>g});var a=t(58168),r=(t(96540),t(15680));t(40281);const l={sidebar_label:"Configuration"},i="Common Configuration",o={unversionedId:"reference/connectors/common_configuration",id:"version-0.12/reference/connectors/common_configuration",title:"Common Configuration",description:"This section explains common configuration options that are used across many connectors.",source:"@site/versioned_docs/version-0.12/reference/connectors/common_configuration.md",sourceDirName:"reference/connectors",slug:"/reference/connectors/common_configuration",permalink:"/docs/0.12/reference/connectors/common_configuration",draft:!1,editUrl:"https://github.com/tremor-rs/tremor-www/tree/main/versioned_docs/version-0.12/reference/connectors/common_configuration.md",tags:[],version:"0.12",frontMatter:{sidebar_label:"Configuration"},sidebar:"indexSidebar",previous:{title:"exit",permalink:"/docs/0.12/reference/connectors/exit"},next:{title:"Codecs",permalink:"/docs/0.12/reference/codecs/"}},c={},g=[{value:"tls",id:"tls",level:2},{value:"Client",id:"client",level:3},{value:"Server",id:"server",level:3},{value:"auth",id:"auth",level:2},{value:"basic",id:"basic",level:3},{value:"bearer",id:"bearer",level:3},{value:"elastic_api_key",id:"elastic_api_key",level:3},{value:"gcp",id:"gcp",level:3},{value:"none",id:"none",level:3}],p={toc:g},s="wrapper";function d(e){let{components:n,...t}=e;return(0,r.yg)(s,(0,a.A)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"common-configuration"},"Common Configuration"),(0,r.yg)("p",null,"This section explains common configuration options that are used across many connectors."),(0,r.yg)("h2",{id:"tls"},"tls"),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"tls")," configuration option is for enabling and further configuring TLS encrypted transport, both for client and server side connections."),(0,r.yg)("h3",{id:"client"},"Client"),(0,r.yg)("p",null,"The client side ",(0,r.yg)("inlineCode",{parentName:"p"},"tls")," configuration can be set to a record with all available configuration options:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Option"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Required"),(0,r.yg)("th",{parentName:"tr",align:null},"Default value"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"cafile"),(0,r.yg)("td",{parentName:"tr",align:null},"Path to the pem-encoded certificate file of the CA to use for verifying the server certificate"),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"no"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"domain"),(0,r.yg)("td",{parentName:"tr",align:null},"The DNS domain used to verify the server's certificate."),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"no"),(0,r.yg)("td",{parentName:"tr",align:null},"If not provided the domain from the connection URl will be used.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"cert"),(0,r.yg)("td",{parentName:"tr",align:null},"Path to the pem-encoded certificate (-chain) to use as client-side certificate. (",(0,r.yg)("inlineCode",{parentName:"td"},"cert")," and ",(0,r.yg)("inlineCode",{parentName:"td"},"key")," must be used together)"),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"no"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"key"),(0,r.yg)("td",{parentName:"tr",align:null},"Path to the private key to use together with the client-side certificate in ",(0,r.yg)("inlineCode",{parentName:"td"},"cert"),"."),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"no"),(0,r.yg)("td",{parentName:"tr",align:null})))),(0,r.yg)("p",null,"Example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tremor"},'define connector http from http_client\nwith\n    config = {\n        "url": "http://example.org/"\n        "tls": {\n            "cafile": "/path/to/ca_certificates.pem",\n            "domain": "example.org",\n            "cert"  : "/path/to/client_certificate_chain.pem",\n            "key"   : "/path/to/client_private_key.pem" \n        }\n    },\n    codec = "string"\nend;\n')),(0,r.yg)("p",null,"It can also be set to just a boolean value. If set to ",(0,r.yg)("inlineCode",{parentName:"p"},"true"),", the CA file provided by the operating system are used to verify the server certificate and the domain of the connection URL is used for verifying the server's domain."),(0,r.yg)("p",null,"Example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tremor"},'define connector tcp from tcp_client\nwith\n    config = {\n        "url": "example.org:12345"\n        "tls": true\n    },\n    codec = "binary"\nend;\n')),(0,r.yg)("p",null,"Used by the following connectors:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/0.12/reference/connectors/tcp#client"},"tcp_client")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/0.12/reference/connectors/ws#secure-client"},"ws_client")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/0.12/reference/connectors/http#client"},"http_client")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/0.12/reference/connectors/elastic"},"elastic"))),(0,r.yg)("h3",{id:"server"},"Server"),(0,r.yg)("p",null,"The server side ",(0,r.yg)("inlineCode",{parentName:"p"},"tls")," configuration is used to configure server-side TLS with certificate (",(0,r.yg)("inlineCode",{parentName:"p"},"cert"),") and private key (",(0,r.yg)("inlineCode",{parentName:"p"},"key"),")."),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Option"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Required"),(0,r.yg)("th",{parentName:"tr",align:null},"Default value"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"cert"),(0,r.yg)("td",{parentName:"tr",align:null},"Path to the pem-encoded certificate file to use as the servers TLS certificate."),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"yes"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"key"),(0,r.yg)("td",{parentName:"tr",align:null},"Path to the private key corresponding to the public key inside the certificate in ",(0,r.yg)("inlineCode",{parentName:"td"},"cert")),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"yes"),(0,r.yg)("td",{parentName:"tr",align:null})))),(0,r.yg)("p",null,"Used by the following connectors:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/0.12/reference/connectors/tcp#server"},"tcp_server")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/0.12/reference/connectors/ws#secure-server"},"ws_server")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/0.12/reference/connectors/http#server"},"http_server"))),(0,r.yg)("h2",{id:"auth"},"auth"),(0,r.yg)("p",null,"Configuration for HTTP based connectors for setting the ",(0,r.yg)("inlineCode",{parentName:"p"},"Authorization")," header."),(0,r.yg)("p",null,"Used by connectors:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/0.12/reference/connectors/http#client"},"http_client")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/0.12/reference/connectors/elastic"},"elastic"))),(0,r.yg)("h3",{id:"basic"},"basic"),(0,r.yg)("p",null,"Implements the ",(0,r.yg)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc7617"},(0,r.yg)("inlineCode",{parentName:"a"},"Basic")," Authentication Scheme"),"."),(0,r.yg)("p",null,"Requires ",(0,r.yg)("inlineCode",{parentName:"p"},"username")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"password")," fields."),(0,r.yg)("p",null,"Example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tremor"},'define connector client from http_client\nwith\n    codec = "json",\n    config = {\n        "url": "http://localhost:80/path?query",\n        "auth": {\n            "basic": {\n                "username": "snot",\n                "password": "badger"\n            }\n        }\n    }\nend;\n')),(0,r.yg)("h3",{id:"bearer"},"bearer"),(0,r.yg)("p",null,"Implements ",(0,r.yg)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc6750#section-2.1"},"Bearer Token Authorization"),"."),(0,r.yg)("p",null,"It only needs the token to use as a string."),(0,r.yg)("p",null,"Example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tremor"},'define connector client from elastic\nwith\n    config = {\n        "nodes": [\n            "http://localhost:9200"\n        ],\n        "auth": {\n            "bearer": "token"\n        }\n    }\nend;\n')),(0,r.yg)("p",null,"This will add the following header to each request:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"Authorization: Bearer token\n")),(0,r.yg)("h3",{id:"elastic_api_key"},"elastic_api_key"),(0,r.yg)("p",null,"Implements elasticsearch ",(0,r.yg)("a",{parentName:"p",href:"https://www.elastic.co/guide/en/elasticsearch/reference/8.2/security-api.html#security-api-keys"},"ApiKey auth"),"."),(0,r.yg)("p",null,"Requires fields ",(0,r.yg)("inlineCode",{parentName:"p"},"id")," which must contain the api key id and ",(0,r.yg)("inlineCode",{parentName:"p"},"api_key")," which contains the api key to use."),(0,r.yg)("p",null,"Example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tremor"},'define connector elastic_keyed from elastic\nwith\n    config = {\n        "nodes": [\n            "http://localhost:9200"\n        ],\n        "auth": {\n            "elastic_api_key": {\n                "id": "ZSHpKIEBc6SDIeISiRsT",\n                "api_key": "1lqrzNhRSUWmzuQqy333yw"\n            }\n        }\n    }\nend;\n')),(0,r.yg)("h3",{id:"gcp"},"gcp"),(0,r.yg)("p",null,"Provides auto-renewed tokens for GCP service authentication."),(0,r.yg)("p",null,"Token used is scoped to ",(0,r.yg)("a",{parentName:"p",href:"https://www.googleapis.com/auth/cloud-platform"},"https://www.googleapis.com/auth/cloud-platform"),"\nLooks for credentials in the following places, preferring the first location found:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"A JSON file whose path is specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable."),(0,r.yg)("li",{parentName:"ul"},"A JSON file in a location known to the gcloud command-line tool."),(0,r.yg)("li",{parentName:"ul"},"On Google Compute Engine, it fetches credentials from the metadata server.")),(0,r.yg)("p",null,"Example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tremor"},'define connector gcp_client from http_client\nwith\n    codec = "json",\n    config = {\n        "url": "http://google.api.snot",\n        "auth": "gcp"\n    }\nend;\n')),(0,r.yg)("h3",{id:"none"},"none"),(0,r.yg)("p",null,"No ",(0,r.yg)("inlineCode",{parentName:"p"},"Authorization")," is used."))}d.isMDXComponent=!0}}]);